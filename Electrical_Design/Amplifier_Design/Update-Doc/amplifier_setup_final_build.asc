Version 4
SHEET 1 2580 680
WIRE 640 -1488 640 -1520
WIRE 640 -1392 640 -1408
WIRE 768 -1392 640 -1392
WIRE 896 -1392 848 -1392
WIRE 640 -1296 640 -1392
WIRE 512 -1168 416 -1168
WIRE 848 -1168 768 -1168
WIRE 896 -1168 896 -1392
WIRE 896 -1168 848 -1168
WIRE -560 -1152 -560 -1168
WIRE -416 -1152 -560 -1152
WIRE -80 -1152 -160 -1152
WIRE -32 -1152 -80 -1152
WIRE -560 -1104 -560 -1152
WIRE -80 -1104 -80 -1152
WIRE -880 -992 -944 -992
WIRE -816 -992 -880 -992
WIRE -672 -992 -752 -992
WIRE -560 -992 -560 -1024
WIRE -560 -992 -672 -992
WIRE -288 -992 -288 -1056
WIRE -288 -992 -560 -992
WIRE -80 -992 -80 -1024
WIRE -80 -992 -288 -992
WIRE -672 -960 -672 -992
WIRE 640 -960 640 -1040
WIRE -880 -912 -880 -992
WIRE -688 -880 -720 -880
WIRE -592 -880 -688 -880
WIRE -384 -880 -512 -880
WIRE -272 -880 -384 -880
WIRE -192 -880 -272 -880
WIRE -1040 -848 -1088 -848
WIRE -688 -800 -720 -800
WIRE -480 -800 -688 -800
WIRE -1088 -768 -1088 -848
WIRE -1040 -768 -1088 -768
WIRE -480 -768 -480 -800
WIRE -384 -768 -384 -880
WIRE -624 -720 -720 -720
WIRE 1248 -704 1056 -704
WIRE -480 -688 -480 -704
WIRE -384 -688 -384 -704
WIRE -384 -688 -480 -688
WIRE -480 -672 -480 -688
WIRE 1568 -656 1520 -656
WIRE 1744 -656 1648 -656
WIRE -1088 -640 -1088 -768
WIRE -880 -640 -880 -672
WIRE -880 -640 -1088 -640
WIRE 1056 -624 1056 -704
WIRE 1104 -624 1056 -624
WIRE 1248 -608 1248 -704
WIRE 1248 -608 1168 -608
WIRE 1312 -608 1248 -608
WIRE 1456 -608 1392 -608
WIRE 1104 -592 1008 -592
WIRE -624 -576 -624 -720
WIRE -528 -576 -624 -576
WIRE -272 -576 -272 -880
WIRE -272 -576 -464 -576
WIRE -624 -528 -624 -576
WIRE 1456 -496 1456 -608
WIRE 1520 -496 1520 -656
WIRE 1520 -496 1456 -496
WIRE 1584 -496 1520 -496
WIRE 1744 -480 1744 -656
WIRE 1744 -480 1648 -480
WIRE 1776 -480 1744 -480
WIRE 1888 -480 1776 -480
WIRE 1568 -464 1536 -464
WIRE 1584 -464 1568 -464
WIRE -880 -448 -880 -640
WIRE -624 -448 -880 -448
WIRE 1248 -448 1056 -448
WIRE 1312 -448 1248 -448
WIRE 1456 -448 1456 -496
WIRE 1456 -448 1392 -448
WIRE 1056 -368 1056 -448
WIRE 1104 -368 1056 -368
WIRE 1248 -352 1248 -448
WIRE 1248 -352 1168 -352
WIRE 1888 -352 1888 -400
WIRE 1104 -336 1024 -336
WIRE 1568 -288 1568 -464
WIRE 1888 -288 1568 -288
WIRE 480 -160 464 -160
WIRE 592 -160 560 -160
WIRE 768 -144 752 -144
WIRE 896 -144 848 -144
WIRE 192 -128 160 -128
WIRE 320 -128 272 -128
WIRE 1760 -16 1680 -16
WIRE 320 0 320 -128
WIRE 368 0 320 0
WIRE 464 0 464 -160
WIRE 464 0 448 0
WIRE 480 0 464 0
WIRE 592 0 592 -160
WIRE 656 0 592 0
WIRE 752 0 752 -144
WIRE 752 0 736 0
WIRE 784 0 752 0
WIRE 0 16 -128 16
WIRE 96 16 80 16
WIRE 160 16 160 -128
WIRE 208 16 160 16
WIRE 592 16 592 0
WIRE 592 16 544 16
WIRE 896 16 896 -144
WIRE 896 16 848 16
WIRE 1072 16 896 16
WIRE 320 32 320 0
WIRE 320 32 272 32
WIRE 480 32 448 32
WIRE 784 32 736 32
WIRE 1760 32 1760 -16
WIRE 208 48 160 48
WIRE 448 64 448 32
WIRE 736 64 736 32
WIRE -128 80 -128 16
WIRE 160 80 160 48
WIRE 1440 80 1376 80
WIRE 1488 80 1440 80
WIRE 1680 80 1680 -16
WIRE 1680 80 1568 80
WIRE 1712 80 1680 80
WIRE 1840 80 1792 80
WIRE 1920 80 1840 80
WIRE -128 224 -128 160
WIRE 1440 224 1440 80
WIRE 1600 224 1440 224
WIRE 1840 224 1840 80
WIRE 1840 224 1680 224
FLAG -128 224 0
FLAG -560 -1168 Vdd
FLAG -672 -960 0
FLAG 240 0 Vdd
FLAG 512 -16 Vdd
FLAG 816 -16 Vdd
FLAG 240 64 Vss
FLAG 512 48 Vss
FLAG 816 48 Vss
FLAG 160 80 0
FLAG 448 64 0
FLAG 736 64 0
FLAG -32 -1152 5V
FLAG 1072 16 Vac
FLAG 1008 -592 Vdc
FLAG 1024 -336 Vac
FLAG 1616 -448 Vss
FLAG 1616 -512 Vdd
FLAG 1136 -320 Vss
FLAG 1136 -384 Vdd
FLAG 1136 -576 Vss
FLAG 1136 -640 Vdd
FLAG 1536 -464 0
FLAG 1776 -480 Vout
FLAG -944 -992 5V
FLAG -880 -448 0
FLAG -480 -672 0
FLAG -192 -880 Vss
FLAG 416 -1168 Vdd
FLAG 640 -960 Vss
FLAG 848 -1168 Vdc
FLAG 640 -1520 0
FLAG 1376 80 In
FLAG 1920 80 Out
SYMBOL Opamps\\LT1001A 240 -32 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1001A 512 -48 R0
SYMATTR InstName U2
SYMBOL Opamps\\LT1001A 816 -48 R0
SYMATTR InstName U3
SYMBOL res 96 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 288 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 464 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 3.6k
SYMBOL res 576 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 752 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 3.6k
SYMBOL res 864 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL voltage -128 64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PWL file=sawtooth_current.txt
SYMBOL voltage -560 -1120 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 17
SYMBOL PowerProducts\\LT1085-5 -288 -1152 R0
SYMATTR InstName U5
SYMBOL res -96 -1120 R0
SYMATTR InstName R_Arduino
SYMATTR Value 10Meg
SYMBOL Opamps\\LT1001A 1616 -544 R0
SYMATTR InstName U9
SYMBOL Opamps\\LT1001A 1136 -416 R0
SYMATTR InstName U10
SYMBOL Opamps\\LT1001A 1136 -672 R0
SYMATTR InstName U11
SYMBOL res 1408 -624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 100k
SYMBOL res 1408 -464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 100k
SYMBOL res 1664 -672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL res 1872 -496 R0
SYMATTR InstName R13
SYMATTR Value 300
SYMBOL cap 1872 -352 R0
SYMATTR InstName C1
SYMATTR Value 15.51n
SYMBOL polcap 96 32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 47µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=125m Rser=0.8 Lser=0 mfg="Nichicon" pn="UPR1H470MPH" type="Al electrolytic"
SYMBOL MAX635 -880 -800 R0
SYMATTR InstName U4
SYMBOL polcap -816 -976 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value 10µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=35m Rser=2.8 Lser=0 mfg="Nichicon" pn="UPR1C100MAH" type="Al electrolytic"
SYMBOL ind -640 -544 R0
SYMATTR InstName L1
SYMATTR Value 82µ
SYMATTR SpiceLine Ipk=0.48 Rser=0.84 Rpar=90253.8 Cpar=0 mfg="Bourns, Inc." pn="SDR0603-820KL"
SYMBOL cap -464 -704 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 1µ
SYMATTR SpiceLine V=16 Irms=0 Rser=0.007 Lser=0 mfg="TDK" pn="C3216X7RIC105K" type="X7R"
SYMBOL res -704 -896 R0
SYMATTR InstName R7
SYMATTR Value 82k
SYMBOL res -608 -864 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 1.2Meg
SYMBOL polcap -368 -704 R180
WINDOW 0 -30 57 Left 2
WINDOW 3 -73 11 Left 2
SYMATTR InstName C5
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=620m Rser=0.14 Lser=0 mfg="Nichicon" pn="UPL1H101MPH" type="Al electrolytic"
SYMBOL diode -464 -592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL NTE935 640 -1168 R0
SYMATTR InstName U6
SYMBOL res 752 -1376 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 624 -1504 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res 1584 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMBOL res 1696 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMBOL potentiometer 1696 96 R270
SYMATTR InstName U7
SYMATTR Value Rtot=100K wiper=.5
TEXT -456 120 Left 2 !.tran 0 5 0
TEXT 40 -248 Left 2 ;Negative Feedback Amplifier Setup
TEXT 976 -832 Left 2 ;Summation Circuit
TEXT -680 -1264 Left 2 ;Power Supply
